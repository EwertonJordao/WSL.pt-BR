---
title: Alterações UX entre WSL 1 e 2 do WSL
description: Mudanças na experiência do usuário entre WSL 1 e 2 do WSL
keywords: BashOnWindows, bash, wsl, wsl2, windows, o subsistema do windows para linux, windowssubsystem, ubuntu, debian, suse, windows 10
author: mscraigloewen
ms.author: mscraigloewen
ms.date: 05/30/2019
ms.topic: article
ms.assetid: 7afaeacf-435a-4e58-bff0-a9f0d75b8a51
ms.custom: seodec18
ms.openlocfilehash: 0660f9f726811008685de9f1ff457e7515add67a
ms.sourcegitcommit: bb88269eb37405192625fa81ff91162393fb491f
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/12/2019
ms.locfileid: "67038096"
---
# <a name="user-experience-changes-between-wsl-1-and-wsl-2"></a><span data-ttu-id="13add-104">Mudanças na experiência do usuário entre WSL 1 e 2 do WSL</span><span class="sxs-lookup"><span data-stu-id="13add-104">User Experience Changes Between WSL 1 and WSL 2</span></span>

<span data-ttu-id="13add-105">Esta página ultrapassar as diferenças de experiência do usuário entre WSL 1 e a visualização de WSL 2.</span><span class="sxs-lookup"><span data-stu-id="13add-105">This page goes over the user experience differences between WSL 1 and the WSL 2 preview.</span></span> <span data-ttu-id="13add-106">As principais alterações a serem consideradas são:</span><span class="sxs-lookup"><span data-stu-id="13add-106">The key changes to be aware of are:</span></span>

- <span data-ttu-id="13add-107">Colocar arquivos de que seus aplicativos Linux acessará no seu sistema de arquivos de raiz do Linux para velocidade de desempenho mais rápido do arquivo</span><span class="sxs-lookup"><span data-stu-id="13add-107">Place files that your Linux apps will access in your Linux root file system for faster file performance speed</span></span>
- <span data-ttu-id="13add-108">Em compilações inicias da visualização 2 WSL você precisará acessar a aplicativos de rede usando um endereço IP e não usar localhost</span><span class="sxs-lookup"><span data-stu-id="13add-108">In initial builds of the WSL 2 preview you will need to access network applications using an IP address and not using localhost</span></span>

<span data-ttu-id="13add-109">E, abaixo está a lista completa de outras alterações que podem ser observados:</span><span class="sxs-lookup"><span data-stu-id="13add-109">And below is the full list of other changes that you may notice:</span></span>

- <span data-ttu-id="13add-110">WSL 2 usa um VHD para armazenar seus arquivos e se você atingir seu tamanho máximo que você pode precisar para expandi-lo</span><span class="sxs-lookup"><span data-stu-id="13add-110">WSL 2 uses a VHD to store your files and if you reach its max size you may need to expand it</span></span>
- <span data-ttu-id="13add-111">Ao iniciar, WSL 2 agora usarão uma pequena proporção de memória</span><span class="sxs-lookup"><span data-stu-id="13add-111">When starting, WSL 2 will now use a small proportion of memory</span></span>
- <span data-ttu-id="13add-112">Entre o sistema operacional, velocidade de acesso de arquivo será mais lenta em compilações de visualização inicial</span><span class="sxs-lookup"><span data-stu-id="13add-112">Cross OS file access speed will be slower in initial preview builds</span></span>

## <a name="place-your-linux-files-in-your-linux-root-file-system"></a><span data-ttu-id="13add-113">Coloque os arquivos do Linux em seu sistema de arquivos de raiz do Linux</span><span class="sxs-lookup"><span data-stu-id="13add-113">Place your Linux files in your Linux root file system</span></span>
<span data-ttu-id="13add-114">Certifique-se de colocar os arquivos que você acessará frequentemente com o Linux aplicativos dentro de seu Linux raiz do sistema de arquivos para aproveitar os benefícios de desempenho do arquivo.</span><span class="sxs-lookup"><span data-stu-id="13add-114">Make sure to put the files that you will be accessing frequently with Linux applications inside of your Linux root file system to enjoy the file performance benefits.</span></span> <span data-ttu-id="13add-115">Esses arquivos precisam estar dentro do sistema de arquivos raiz Linux para ter acesso de sistema de arquivos mais rápido.</span><span class="sxs-lookup"><span data-stu-id="13add-115">These files have to be inside of the Linux root file system to have faster file system access.</span></span> <span data-ttu-id="13add-116">Podemos também tornam possível para aplicativos do Windows acessar o sistema de arquivos do Linux raiz (como o Explorador de arquivos!</span><span class="sxs-lookup"><span data-stu-id="13add-116">We have also made it possible for Windows apps to access the Linux root file system (like File Explorer!</span></span> <span data-ttu-id="13add-117">Tente executar: `explorer.exe /` em seu shell bash e veja o que acontece) que irá facilitar essa transição.</span><span class="sxs-lookup"><span data-stu-id="13add-117">Try running: `explorer.exe /` in your bash shell and see what happens) which will make this transition significantly easier.</span></span> 

## <a name="accessing-network-applications"></a><span data-ttu-id="13add-118">Acesso a aplicativos de rede</span><span class="sxs-lookup"><span data-stu-id="13add-118">Accessing network applications</span></span>
<span data-ttu-id="13add-119">Nas compilações do preview 2 WSL inicias, você precisará acessar qualquer servidor do Linux do Windows usando o endereço IP de sua distribuição do Linux e qualquer servidor Windows do Linux usando o endereço IP do seu computador host.</span><span class="sxs-lookup"><span data-stu-id="13add-119">In the initial builds of the WSL 2 preview, you will need to access any Linux server from Windows using the IP address of your Linux distro, and any Windows server from Linux using the IP address of your host machine.</span></span> <span data-ttu-id="13add-120">Isso é algo que é temporária e muito alta em nossa lista de prioridade para corrigir.</span><span class="sxs-lookup"><span data-stu-id="13add-120">This is something that is temporary, and very high on our priority list to fix.</span></span>

### <a name="accessing-linux-applications-from-windows"></a><span data-ttu-id="13add-121">Acesso a aplicativos do Linux do Windows</span><span class="sxs-lookup"><span data-stu-id="13add-121">Accessing Linux applications from Windows</span></span>
<span data-ttu-id="13add-122">Se você tiver um servidor em uma distribuição WSL, você precisará localizar o endereço IP da máquina virtual capacitar sua distribuição e conectá-lo com esse endereço IP.</span><span class="sxs-lookup"><span data-stu-id="13add-122">If you have a server in a WSL distro, you'll need to find the IP address of the virtual machine powering your distro and connect to it with that IP address.</span></span> <span data-ttu-id="13add-123">Você pode fazer isso seguindo estas etapas:</span><span class="sxs-lookup"><span data-stu-id="13add-123">You can do that by following these steps:</span></span>

- <span data-ttu-id="13add-124">Obter o endereço IP da sua distribuição, executando o comando `ip addr` dentro de sua distribuição WSL e localizá-lo sob o `inet` valor o `eth0` interface.</span><span class="sxs-lookup"><span data-stu-id="13add-124">Obtain the IP address of your distro by running the command `ip addr` inside of your WSL distro and finding it under the `inet` value of the `eth0` interface.</span></span>
   - <span data-ttu-id="13add-125">Você pode encontrá-lo mais facilmente por meio da filtragem de saída do comando usando grep da seguinte forma: `ip addr | grep eth0`.</span><span class="sxs-lookup"><span data-stu-id="13add-125">You can find this more easily by filtering the output of the command using grep like so: `ip addr | grep eth0`.</span></span>
- <span data-ttu-id="13add-126">Conecte-se ao seu servidor Linux usando o IP encontrado acima.</span><span class="sxs-lookup"><span data-stu-id="13add-126">Connect to your Linux server using the IP you found above.</span></span>

<span data-ttu-id="13add-127">A figura abaixo mostra um exemplo ao se conectar a um servidor de nodeJS usando o navegador Edge.</span><span class="sxs-lookup"><span data-stu-id="13add-127">The picture below shows an example of this by connecting to a nodeJS server using the Edge browser.</span></span>

![Acesso a aplicativos de rede do Linux do Windows](media/wsl2-network-w2l.jpg)

### <a name="accessing-windows-applications-from-linux"></a><span data-ttu-id="13add-129">Acesso a aplicativos do Windows do Linux</span><span class="sxs-lookup"><span data-stu-id="13add-129">Accessing Windows applications from Linux</span></span>
<span data-ttu-id="13add-130">Para acessar um aplicativo de rede do Windows, você precisará usar o endereço IP do seu computador host.</span><span class="sxs-lookup"><span data-stu-id="13add-130">To access a Windows network application you'll need to use the IP address of your host machine.</span></span> <span data-ttu-id="13add-131">Você pode fazer isso com estas etapas:</span><span class="sxs-lookup"><span data-stu-id="13add-131">You can do so with these steps:</span></span>

- <span data-ttu-id="13add-132">Obter o endereço IP do seu computador host executando o comando `cat /etc/resolv.conf` e copiar o endereço IP após o termo `nameserver`.</span><span class="sxs-lookup"><span data-stu-id="13add-132">Obtain the IP address of your host machine by running the command `cat /etc/resolv.conf` and copying the IP address following the term `nameserver`.</span></span> 
- <span data-ttu-id="13add-133">Conecte-se a qualquer servidor do Windows usando o endereço IP copiado.</span><span class="sxs-lookup"><span data-stu-id="13add-133">Connect to any Windows server using the copied IP address.</span></span>

<span data-ttu-id="13add-134">A figura abaixo mostra um exemplo ao se conectar a um servidor de python em execução no Windows por meio de rotação.</span><span class="sxs-lookup"><span data-stu-id="13add-134">The picture below shows an example of this by connecting to a python server running in Windows via curl.</span></span> 

![Acesso a aplicativos de rede do Linux do Windows](media/wsl2-network-l2w.png)

## <a name="understanding-wsl-2-uses-a-vhd-and-what-to-do-if-you-reach-its-max-size"></a><span data-ttu-id="13add-136">Noções básicas sobre o WSL 2 usa um VHD e o que fazer se você atingir seu tamanho máximo</span><span class="sxs-lookup"><span data-stu-id="13add-136">Understanding WSL 2 uses a VHD, and what to do if you reach its max size</span></span>
<span data-ttu-id="13add-137">2 de WSL armazena todos os arquivos do Linux dentro de um VHD que usa o sistema de arquivos ext4.</span><span class="sxs-lookup"><span data-stu-id="13add-137">WSL 2 stores all your Linux files inside of a VHD that uses the ext4 file system.</span></span> <span data-ttu-id="13add-138">Esse VHD é redimensionado automaticamente para atender às suas necessidades de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="13add-138">This VHD automatically resizes to meet your storage needs.</span></span> <span data-ttu-id="13add-139">Esse VHD também tem um tamanho inicial máximo de 256GB.</span><span class="sxs-lookup"><span data-stu-id="13add-139">This VHD also has an initial max size of 256GB.</span></span> <span data-ttu-id="13add-140">Se a sua distribuição aumenta de tamanho seja maior que 256GB, você verá erros informando que você executou sem espaço em disco.</span><span class="sxs-lookup"><span data-stu-id="13add-140">If your distro grows in size to be greater than 256GB you will see errors stating that you've run out of disk space.</span></span> <span data-ttu-id="13add-141">Você pode corrigi-los expandindo o tamanho do VHD.</span><span class="sxs-lookup"><span data-stu-id="13add-141">You can fix these by expanding the VHD size.</span></span> <span data-ttu-id="13add-142">As instruções sobre como fazer isso estão abaixo:</span><span class="sxs-lookup"><span data-stu-id="13add-142">Instructions on how to do so are below:</span></span>

1. <span data-ttu-id="13add-143">Encerrar todas as instâncias WSL usando o `wsl --shutdown` comando</span><span class="sxs-lookup"><span data-stu-id="13add-143">Terminate all WSL instances using the `wsl --shutdown` command</span></span>
2. <span data-ttu-id="13add-144">Redimensionar o VHD de 2 WSL executando os comandos a seguir</span><span class="sxs-lookup"><span data-stu-id="13add-144">Resize your WSL 2 VHD by completing the following commands</span></span>
   - <span data-ttu-id="13add-145">Abra um janela de prompt de comando com privilégios de administrador e execute os seguintes comandos:</span><span class="sxs-lookup"><span data-stu-id="13add-145">Open a command prompt Window with admin privileges and run the following commands:</span></span>
      - `Select vdisk file="<pathToVHD>"`
      - `expand vdisk maximum="<sizeInMegaBytes>"`
3. <span data-ttu-id="13add-146">Inicie sua distribuição WSL</span><span class="sxs-lookup"><span data-stu-id="13add-146">Launch your WSL distro</span></span>
4. <span data-ttu-id="13add-147">Verifique o WSL ciente de que ele pode expandir o tamanho do seu sistema de arquivos</span><span class="sxs-lookup"><span data-stu-id="13add-147">Make WSL aware that it can expand its file system's size</span></span>
   - <span data-ttu-id="13add-148">Execute estes comandos em sua distribuição WSL:</span><span class="sxs-lookup"><span data-stu-id="13add-148">Run these commands in your WSL distro:</span></span>
      - `sudo mount -t devtmpfs none /dev`
      - `mount | grep ext4`
         - <span data-ttu-id="13add-149">Copie o nome desta entrada, que se parecerá com: / DES/sdXX (com o X que representa qualquer outro caractere)</span><span class="sxs-lookup"><span data-stu-id="13add-149">Copy the name of this entry, which will look like: /dev/sdXX (with the X representing any other character)</span></span>
      - `sudo resize2fs /dev/sdXX`
         - <span data-ttu-id="13add-150">Certifique-se de usar o valor copiado anteriormente, e você talvez precise usar: `apt install resize2fs`.</span><span class="sxs-lookup"><span data-stu-id="13add-150">Make sure to use the value you copied earlier, and you may need to use: `apt install resize2fs`.</span></span>

## <a name="wsl-2-will-use-some-memory-on-startup"></a><span data-ttu-id="13add-151">2 WSL usará alguma memória na inicialização</span><span class="sxs-lookup"><span data-stu-id="13add-151">WSL 2 will use some memory on startup</span></span>
<span data-ttu-id="13add-152">WSL 2 usa um utilitário leve de VM em um kernel do Linux real para fornecer o desempenho do sistema de arquivo grande e completa do sistema chamada compatibilidade enquanto ainda estar assim como a luz, rápida, integrada e ágeis como 1 WSL.</span><span class="sxs-lookup"><span data-stu-id="13add-152">WSL 2 uses a lightweight utility VM on a real Linux kernel to provide great file system performance and full system call compatibility while still being just as light, fast, integrated and responsive as WSL 1.</span></span> <span data-ttu-id="13add-153">Esse utilitário VM tem uma pegada pequena de memória e alocará memória de endereço Virtual feito na inicialização.</span><span class="sxs-lookup"><span data-stu-id="13add-153">This utility VM has a small memory footprint and will allocate Virtual Address backed memory on startup.</span></span> <span data-ttu-id="13add-154">Ele é configurado para iniciar com uma pequena proporção do total de memória.</span><span class="sxs-lookup"><span data-stu-id="13add-154">It is configured to start with a small proportion of your total memory.</span></span>

## <a name="cross-os-file-speed-will-be-slower-in-initial-preview-builds"></a><span data-ttu-id="13add-155">Entre o sistema operacional, velocidade do arquivo será mais lenta em compilações de visualização inicial</span><span class="sxs-lookup"><span data-stu-id="13add-155">Cross OS file speed will be slower in initial preview builds</span></span>
<span data-ttu-id="13add-156">Você observará que as velocidades de arquivo mais lentas em comparação com WSL 1 ao acessar arquivos do Windows de um aplicativo do Linux, ou acessar arquivos do Linux de um aplicativo do Windows.</span><span class="sxs-lookup"><span data-stu-id="13add-156">You will notice slower file speeds compared to WSL 1 when accessing Windows files from a Linux application, or accessing Linux files from a Windows application.</span></span> <span data-ttu-id="13add-157">Isso é um resultado das alterações na arquitetura em WSL 2 e é algo que a equipe WSL ativamente está investigando nos como podemos melhorar essa experiência.</span><span class="sxs-lookup"><span data-stu-id="13add-157">This is a result of the architectural changes in WSL 2, and is something that the WSL team is actively investigating on how we can improve this experience.</span></span>