---
title: Solução de problemas de Susbystem do Windows para Linux
description: Fornece informações detalhadas sobre erros comuns e emite as pessoas se deparar durante a execução Linux em Susbystem o Windows para Linux.
keywords: BashOnWindows, bash, wsl, windows, windowssubsystem, ubuntu
author: scooley
ms.author: scooley
ms.date: 11/15/2017
ms.topic: article
ms.assetid: 6753f1b2-200e-49cc-93a5-4323e1117246
ms.custom: seodec18
ms.openlocfilehash: 055bdc02dcf8f078caa014abd6dd755a47c99cfe
ms.sourcegitcommit: ae0956bc0543b1c45765f3620ce9a55c9afe55da
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/18/2019
ms.locfileid: "59063294"
---
# <a name="troubleshooting-windows-subsystem-for-linux"></a><span data-ttu-id="b2896-104">Solução de problemas de subsistema Windows para Linux</span><span class="sxs-lookup"><span data-stu-id="b2896-104">Troubleshooting Windows Subsystem for Linux</span></span>

### <a name="bash-loses-network-connectivity-once-connected-to-a-vpn"></a><span data-ttu-id="b2896-105">Bash perde a conectividade de rede quando conectada a uma VPN</span><span class="sxs-lookup"><span data-stu-id="b2896-105">Bash loses network connectivity once connected to a VPN</span></span>

<span data-ttu-id="b2896-106">Se depois de se conectar a uma VPN em Windows, bash perde a conectividade de rede, tente essa solução alternativa de dentro do bash.</span><span class="sxs-lookup"><span data-stu-id="b2896-106">If after connecting to a VPN on Windows, bash loses network connectivity, try this workaround from within bash.</span></span> <span data-ttu-id="b2896-107">Essa solução alternativa permitirá que você substituir manualmente a resolução de DNS por meio de `/etc/resolv.conf`.</span><span class="sxs-lookup"><span data-stu-id="b2896-107">This workaround will allow you to manually override the DNS resolution through `/etc/resolv.conf`.</span></span>

1. <span data-ttu-id="b2896-108">Anote o servidor DNS da VPN de ação `ipconfig.exe /all`</span><span class="sxs-lookup"><span data-stu-id="b2896-108">Take a note of the DNS server of the VPN from doing `ipconfig.exe /all`</span></span>
2. <span data-ttu-id="b2896-109">Faça uma cópia do resolv. conf existente `sudo cp /etc/resolv.conf /etc/resolv.conf.new`</span><span class="sxs-lookup"><span data-stu-id="b2896-109">Make a copy of the existing resolv.conf `sudo cp /etc/resolv.conf /etc/resolv.conf.new`</span></span>
3. <span data-ttu-id="b2896-110">Desvincular o resolv.con atual `sudo unlink /etc/resolv.conf`</span><span class="sxs-lookup"><span data-stu-id="b2896-110">Unlink the current resolv.con `sudo unlink /etc/resolv.conf`</span></span>
4. `sudo mv /etc/resolv.conf.new /etc/resolv.conf`
5. <span data-ttu-id="b2896-111">Abra `/etc/resolv.conf` e</span><span class="sxs-lookup"><span data-stu-id="b2896-111">Open `/etc/resolv.conf` and</span></span> <br/>
   <span data-ttu-id="b2896-112">a.</span><span class="sxs-lookup"><span data-stu-id="b2896-112">a.</span></span> <span data-ttu-id="b2896-113">Exclua a primeira linha do arquivo, que diz "\# este arquivo foi gerado automaticamente pelo WSL.</span><span class="sxs-lookup"><span data-stu-id="b2896-113">Delete the first line from the file, which says "\# This file was automatically generated by WSL.</span></span> <span data-ttu-id="b2896-114">Para interromper a geração automática desse arquivo, remova essa linha. ".</span><span class="sxs-lookup"><span data-stu-id="b2896-114">To stop automatic generation of this file, remove this line.".</span></span> <br/>
   <span data-ttu-id="b2896-115">b.</span><span class="sxs-lookup"><span data-stu-id="b2896-115">b.</span></span> <span data-ttu-id="b2896-116">Adicione a entrada DNS de (1) acima como a primeira entrada na lista de servidores DNS.</span><span class="sxs-lookup"><span data-stu-id="b2896-116">Add the DNS entry from (1) above as the very first entry in the list of DNS servers.</span></span> <br/>
   <span data-ttu-id="b2896-117">c.</span><span class="sxs-lookup"><span data-stu-id="b2896-117">c.</span></span> <span data-ttu-id="b2896-118">Feche o arquivo.</span><span class="sxs-lookup"><span data-stu-id="b2896-118">Close the file.</span></span> <br/>

<span data-ttu-id="b2896-119">Depois de desconectar a VPN, será preciso reverter as alterações para `/etc/resolv.conf`.</span><span class="sxs-lookup"><span data-stu-id="b2896-119">Once you have disconnected the VPN, you will have to revert the changes to `/etc/resolv.conf`.</span></span> <span data-ttu-id="b2896-120">Para fazer isso, execute:</span><span class="sxs-lookup"><span data-stu-id="b2896-120">To do this, do:</span></span>
1. `cd /etc`
2. `sudo mv resolv.conf resolv.conf.new`
3. `sudo ln -s ../run/resolvconf/resolv.conf resolv.conf`

### <a name="starting-wsl-or-installing-a-distribution-returns-an-error-code"></a><span data-ttu-id="b2896-121">Iniciando o WSL ou instalar uma distribuição retorna um código de erro</span><span class="sxs-lookup"><span data-stu-id="b2896-121">Starting WSL or installing a distribution returns an error code</span></span>

<span data-ttu-id="b2896-122">Siga [estas instruções](https://github.com/Microsoft/WSL/blob/master/CONTRIBUTING.md#8-detailed-logs) para coletar logs detalhados e arquivar um problema no nosso GitHub.</span><span class="sxs-lookup"><span data-stu-id="b2896-122">Follow [these instructions](https://github.com/Microsoft/WSL/blob/master/CONTRIBUTING.md#8-detailed-logs) to collect detailed logs and file an issue on our GitHub.</span></span>

### <a name="updating-bash-on-ubuntu-on-windows"></a><span data-ttu-id="b2896-123">Atualizando o Bash no Ubuntu no Windows</span><span class="sxs-lookup"><span data-stu-id="b2896-123">Updating Bash on Ubuntu on Windows</span></span>

<span data-ttu-id="b2896-124">Há dois componentes do Bash no Ubuntu no Windows que podem exigir a atualização.</span><span class="sxs-lookup"><span data-stu-id="b2896-124">There are two components of Bash on Ubuntu on Windows that can require updating.</span></span> 

1. <span data-ttu-id="b2896-125">O subsistema Windows para Linux</span><span class="sxs-lookup"><span data-stu-id="b2896-125">The Windows Subsystem for Linux</span></span>
  
   <span data-ttu-id="b2896-126">Atualizar esta parte do Bash no Ubuntu no Windows permitirá que qualquer novo contornos de correções na [notas de versão](https://msdn.microsoft.com/en-us/commandline/wsl/release_notes).</span><span class="sxs-lookup"><span data-stu-id="b2896-126">Upgrading this portion of Bash on Ubuntu on Windows will enable any new fixes outlines in the [release notes](https://msdn.microsoft.com/en-us/commandline/wsl/release_notes).</span></span> <span data-ttu-id="b2896-127">Certifique-se de que você assinou ao programa Windows Insider e que a compilação está atualizada.</span><span class="sxs-lookup"><span data-stu-id="b2896-127">Ensure that you are subscribed to the Windows Insider Program and that your build is up to date.</span></span> <span data-ttu-id="b2896-128">Para ter maior controle de detalhamento, incluindo a redefinição de sua Ubuntu check-out da instância de [página de referência do comando](https://msdn.microsoft.com/en-us/commandline/wsl/reference).</span><span class="sxs-lookup"><span data-stu-id="b2896-128">For finer grain control including resetting your Ubuntu instance check out the [command reference page](https://msdn.microsoft.com/en-us/commandline/wsl/reference).</span></span>

2. <span data-ttu-id="b2896-129">Os binários de usuário do Ubuntu</span><span class="sxs-lookup"><span data-stu-id="b2896-129">The Ubuntu user binaries</span></span> 

   <span data-ttu-id="b2896-130">Atualizar esta parte do Bash no Ubuntu no Windows instalará todas as atualizações para os binários de usuário do Ubuntu incluindo aplicativos que você instalou via apt-get.</span><span class="sxs-lookup"><span data-stu-id="b2896-130">Upgrading this portion of Bash on Ubuntu on Windows will install any updates to the Ubuntu user binaries including applications that you have installed via apt-get.</span></span> <span data-ttu-id="b2896-131">Para atualizar a executar os seguintes comandos no Bash:</span><span class="sxs-lookup"><span data-stu-id="b2896-131">To update run the following commands in Bash:</span></span>
  
   1. `apt-get update`
   2. `apt-get upgrade`
  
### <a name="apt-get-upgrade-errors"></a><span data-ttu-id="b2896-132">Erros de atualização de APT-get</span><span class="sxs-lookup"><span data-stu-id="b2896-132">Apt-get upgrade errors</span></span>
<span data-ttu-id="b2896-133">Alguns pacotes usam recursos que ainda não implementamos ainda.</span><span class="sxs-lookup"><span data-stu-id="b2896-133">Some packages use features that we haven't implemented yet.</span></span> <span data-ttu-id="b2896-134">`udev`, por exemplo, ainda não tem suporte e faz com que diversos `apt-get upgrade` erros.</span><span class="sxs-lookup"><span data-stu-id="b2896-134">`udev`, for example, isn't supported yet and causes several `apt-get upgrade` errors.</span></span>

<span data-ttu-id="b2896-135">Para corrigir problemas relacionados à `udev`, siga as etapas a seguir:</span><span class="sxs-lookup"><span data-stu-id="b2896-135">To fix issues related to `udev`, follow the following steps:</span></span>

1. <span data-ttu-id="b2896-136">Escreva o seguinte para `/usr/sbin/policy-rc.d` e salve suas alterações.</span><span class="sxs-lookup"><span data-stu-id="b2896-136">Write the following to `/usr/sbin/policy-rc.d` and save your changes.</span></span>
  
   ``` BASH
   #!/bin/sh
   exit 101
   ```
  
2. <span data-ttu-id="b2896-137">Adicionar permissões de execução ao `/usr/sbin/policy-rc.d`</span><span class="sxs-lookup"><span data-stu-id="b2896-137">Add execute permissions to `/usr/sbin/policy-rc.d`</span></span>
   ``` BASH
   chmod +x /usr/sbin/policy-rc.d
   ```
  
3. <span data-ttu-id="b2896-138">Execute os seguintes comandos</span><span class="sxs-lookup"><span data-stu-id="b2896-138">Run the following commands</span></span>
   ``` BASH
   dpkg-divert --local --rename --add /sbin/initctl
   ln -s /bin/true /sbin/initctl
   ```
  
### <a name="error-0x80040306-on-installation"></a><span data-ttu-id="b2896-139">"Error: 0x80040306 "na instalação</span><span class="sxs-lookup"><span data-stu-id="b2896-139">"Error: 0x80040306" on installation</span></span>
<span data-ttu-id="b2896-140">Isso tem a ver com o fato de que não há suporte para console herdado.</span><span class="sxs-lookup"><span data-stu-id="b2896-140">This has to do with the fact that we do not support legacy console.</span></span>
<span data-ttu-id="b2896-141">Para desativar o console herdado:</span><span class="sxs-lookup"><span data-stu-id="b2896-141">To turn off legacy console:</span></span>

1. <span data-ttu-id="b2896-142">Abra cmd.exe</span><span class="sxs-lookup"><span data-stu-id="b2896-142">Open cmd.exe</span></span>
1. <span data-ttu-id="b2896-143">Clique com botão direito no título da barra -> Propriedades -> desmarque usar console herdado</span><span class="sxs-lookup"><span data-stu-id="b2896-143">Right click title bar -> Properties -> Uncheck Use legacy console</span></span>
1. <span data-ttu-id="b2896-144">Clique em OK</span><span class="sxs-lookup"><span data-stu-id="b2896-144">Click OK</span></span>

### <a name="error-0x80040154-after-windows-update"></a><span data-ttu-id="b2896-145">"Error: 0x80040154 "após a atualização do Windows</span><span class="sxs-lookup"><span data-stu-id="b2896-145">"Error: 0x80040154" after Windows update</span></span>
<span data-ttu-id="b2896-146">O subsistema do Windows para o recurso do Linux pode ser desabilitado durante uma atualização do Windows.</span><span class="sxs-lookup"><span data-stu-id="b2896-146">The Windows Subsystem for Linux feature may be disabled during a Windows update.</span></span> <span data-ttu-id="b2896-147">Se isso acontecer, o recurso do Windows deve ser habilitado novamente.</span><span class="sxs-lookup"><span data-stu-id="b2896-147">If this happens the Windows feature must be re-enabled.</span></span> <span data-ttu-id="b2896-148">Instruções para habilitar o subsistema Windows para Linux pode ser encontrada na [guia de instalação](https://msdn.microsoft.com/en-us/commandline/wsl/install_guide#enable-the-windows-subsystem-for-linux-feature-guihttps://msdn.microsoft.com/en-us/commandline/wsl/install_guide#enable-the-windows-subsystem-for-linux-feature-gui).</span><span class="sxs-lookup"><span data-stu-id="b2896-148">Instructions for enabling the Windows Subsystem for Linux can be found in the [Installation Guide](https://msdn.microsoft.com/en-us/commandline/wsl/install_guide#enable-the-windows-subsystem-for-linux-feature-guihttps://msdn.microsoft.com/en-us/commandline/wsl/install_guide#enable-the-windows-subsystem-for-linux-feature-gui).</span></span>

### <a name="changing-the-display-language"></a><span data-ttu-id="b2896-149">Alterar o idioma de exibição</span><span class="sxs-lookup"><span data-stu-id="b2896-149">Changing the display language</span></span>
<span data-ttu-id="b2896-150">Instalação do WSL tentará alterar automaticamente a localidade do Ubuntu para coincidir com a localidade de sua instalação do Windows.</span><span class="sxs-lookup"><span data-stu-id="b2896-150">WSL install will try to automatically change the Ubuntu locale to match the locale of your Windows install.</span></span>  <span data-ttu-id="b2896-151">Se você não quiser esse comportamento, você pode executar este comando para alterar a localidade do Ubuntu, após a conclusão da instalação.</span><span class="sxs-lookup"><span data-stu-id="b2896-151">If you do not want this behavior you can run this command to change the Ubuntu locale after install completes.</span></span>  <span data-ttu-id="b2896-152">Você precisará reiniciar bash.exe para que essa alteração tenha efeito.</span><span class="sxs-lookup"><span data-stu-id="b2896-152">You will have to relaunch bash.exe for this change to take effect.</span></span>

<span data-ttu-id="b2896-153">A seguir o exemplo altera a localidade en-US:</span><span class="sxs-lookup"><span data-stu-id="b2896-153">The below example changes to locale to en-US:</span></span>
``` BASH
sudo update-locale LANG=en_US.UTF8
```

### <a name="installation-issues-after-windows-system-restore"></a><span data-ttu-id="b2896-154">Problemas de instalação após a restauração do sistema do Windows</span><span class="sxs-lookup"><span data-stu-id="b2896-154">Installation issues after Windows system restore</span></span>
1.  <span data-ttu-id="b2896-155">Excluir o `%windir%\System32\Tasks\Microsoft\Windows\Windows Subsystem for Linux` pasta.</span><span class="sxs-lookup"><span data-stu-id="b2896-155">Delete the `%windir%\System32\Tasks\Microsoft\Windows\Windows Subsystem for Linux` folder.</span></span> <br/>
  <span data-ttu-id="b2896-156">**Observação: Não faça isso se o recurso opcional está totalmente instalado e funcionando.**</span><span class="sxs-lookup"><span data-stu-id="b2896-156">**Note: Do not do this if your optional feature is fully installed and working.**</span></span>
2.  <span data-ttu-id="b2896-157">Habilitar o recurso opcional do WSL (se ainda não estiver)</span><span class="sxs-lookup"><span data-stu-id="b2896-157">Enable the WSL optional feature (if not already)</span></span>
3.  <span data-ttu-id="b2896-158">Reinicialização</span><span class="sxs-lookup"><span data-stu-id="b2896-158">Reboot</span></span>
4.  <span data-ttu-id="b2896-159">lxrun / desinstalar/completo</span><span class="sxs-lookup"><span data-stu-id="b2896-159">lxrun /uninstall /full</span></span>
5.  <span data-ttu-id="b2896-160">Instalar o bash</span><span class="sxs-lookup"><span data-stu-id="b2896-160">Install bash</span></span>

### <a name="no-internet-access-in-wsl"></a><span data-ttu-id="b2896-161">Sem acesso à internet no WSL</span><span class="sxs-lookup"><span data-stu-id="b2896-161">No internet access in WSL</span></span>
<span data-ttu-id="b2896-162">Alguns usuários relataram problemas com aplicativos específicos de firewall bloqueando o acesso à internet no WSL.</span><span class="sxs-lookup"><span data-stu-id="b2896-162">Some users have reported issues with specific firewall applications blocking internet access in WSL.</span></span>  <span data-ttu-id="b2896-163">Os firewalls relatados são:</span><span class="sxs-lookup"><span data-stu-id="b2896-163">The firewalls reported are:</span></span>

1. <span data-ttu-id="b2896-164">Kaspersky</span><span class="sxs-lookup"><span data-stu-id="b2896-164">Kaspersky</span></span>
1. <span data-ttu-id="b2896-165">AVG</span><span class="sxs-lookup"><span data-stu-id="b2896-165">AVG</span></span>
1. <span data-ttu-id="b2896-166">Avast</span><span class="sxs-lookup"><span data-stu-id="b2896-166">Avast</span></span>

<span data-ttu-id="b2896-167">Em alguns casos permite desativar o firewall para acesso.</span><span class="sxs-lookup"><span data-stu-id="b2896-167">In some cases turning off the firewall allows for access.</span></span>  <span data-ttu-id="b2896-168">Em alguns casos a simples presença do firewall instalado procura para bloquear o acesso.</span><span class="sxs-lookup"><span data-stu-id="b2896-168">In some cases simply having the firewall installed looks to block access.</span></span>

### <a name="permission-denied-error-when-using-ping"></a><span data-ttu-id="b2896-169">Erro de negado permissão ao usar o ping</span><span class="sxs-lookup"><span data-stu-id="b2896-169">Permission Denied error when using ping</span></span>
#### <a name="anniversary-updatehttpsmsdnmicrosoftcomen-uscommandlinewslreleasenotesbuild-14388-to-windows-10-anniversary-update"></a>[<span data-ttu-id="b2896-170">Atualização de aniversário</span><span class="sxs-lookup"><span data-stu-id="b2896-170">Anniversary Update</span></span>](https://msdn.microsoft.com/en-us/commandline/wsl/release_notes#build-14388-to-windows-10-anniversary-update) 

<span data-ttu-id="b2896-171">São necessários privilégios de administrador no Windows para executar o ping no WSL.</span><span class="sxs-lookup"><span data-stu-id="b2896-171">Administrator privileges in Windows are required to run ping in WSL.</span></span>  <span data-ttu-id="b2896-172">Para executar o ping, execute o Bash no Ubuntu no Windows como administrador ou execute bash.exe em um prompt CMD/PowerShell com privilégios de administrador.</span><span class="sxs-lookup"><span data-stu-id="b2896-172">To run ping, run Bash on Ubuntu on Windows as an administrator, or run bash.exe from a CMD/PowerShell prompt with administrator privileges.</span></span>

#### <a name="build-14926httpsmsdnmicrosoftcomen-uscommandlinewslreleasenotesbuild-14926"></a>[<span data-ttu-id="b2896-173">Compilação 14926 +</span><span class="sxs-lookup"><span data-stu-id="b2896-173">Build 14926+</span></span>](https://msdn.microsoft.com/en-us/commandline/wsl/release_notes#build-14926)
  <span data-ttu-id="b2896-174">Privilégios de administrador não é mais necessários.</span><span class="sxs-lookup"><span data-stu-id="b2896-174">Administrator privileges no longer required.</span></span>

### <a name="bash-is-hung"></a><span data-ttu-id="b2896-175">Bash está suspenso</span><span class="sxs-lookup"><span data-stu-id="b2896-175">Bash is hung</span></span>
<span data-ttu-id="b2896-176">Se enquanto estiver trabalhando com o bash, você achar que bash é suspenso (ou em deadlock) e não está respondendo às entradas, nos ajudar a diagnosticar o problema ao coletar e relatar um despejo de memória.</span><span class="sxs-lookup"><span data-stu-id="b2896-176">If while working with bash, you find that bash is hung (or deadlocked) and not responding to inputs, help us diagnose the issue by collecting and reporting a memory dump.</span></span> <span data-ttu-id="b2896-177">Observe que essas etapas causará uma pane em seu sistema.</span><span class="sxs-lookup"><span data-stu-id="b2896-177">Note that these steps will crash your system.</span></span> <span data-ttu-id="b2896-178">Não faça isso se você não estiver familiarizado com isso, ou salva seu trabalho antes de fazer isso.</span><span class="sxs-lookup"><span data-stu-id="b2896-178">Do not do this if you are not comfortable with that or save your work prior to doing this.</span></span>  <br/>
<span data-ttu-id="b2896-179">Para coletar um despejo de memória:</span><span class="sxs-lookup"><span data-stu-id="b2896-179">To collect a memory dump:</span></span>
1. <span data-ttu-id="b2896-180">Altere o tipo de despejo de memória para "despejo de memória completo".</span><span class="sxs-lookup"><span data-stu-id="b2896-180">Change the memory dump type to "complete memory dump".</span></span> <span data-ttu-id="b2896-181">Ao alterar o tipo de despejo, anote o tipo atual.</span><span class="sxs-lookup"><span data-stu-id="b2896-181">While changing the dump type, take a note of your current type.</span></span>
2. <span data-ttu-id="b2896-182">Use o [etapas](https://blogs.technet.microsoft.com/askpfeplat/2015/04/05/how-to-force-a-diagnostic-memory-dump-when-a-computer-hangs/) configurar falha usando o teclado de controle.</span><span class="sxs-lookup"><span data-stu-id="b2896-182">Use the [steps](https://blogs.technet.microsoft.com/askpfeplat/2015/04/05/how-to-force-a-diagnostic-memory-dump-when-a-computer-hangs/) to configure crash using keyboard control.</span></span>
3. <span data-ttu-id="b2896-183">Reprodução de travamento ou um deadlock.</span><span class="sxs-lookup"><span data-stu-id="b2896-183">Repro the hang or deadlock.</span></span>
4. <span data-ttu-id="b2896-184">Falha do sistema usando a sequência de teclas de (2).</span><span class="sxs-lookup"><span data-stu-id="b2896-184">Crash the system using the key sequence from (2).</span></span>
5. <span data-ttu-id="b2896-185">O sistema irá falhar e coletar o despejo de memória.</span><span class="sxs-lookup"><span data-stu-id="b2896-185">The system will crash and collect the memory dump.</span></span>
6. <span data-ttu-id="b2896-186">Depois que o sistema for reiniciado, relatam o DMP para secure@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="b2896-186">Once the system reboots, report the memory.dmp to secure@microsoft.com.</span></span> <span data-ttu-id="b2896-187">O local padrão do arquivo de despejo é %SystemRoot%\memory.dmp ou C:\Windows\memory.dmp se c: é a unidade do sistema.</span><span class="sxs-lookup"><span data-stu-id="b2896-187">The default location of the dump file is %SystemRoot%\memory.dmp or C:\Windows\memory.dmp if C: is the system drive.</span></span> <span data-ttu-id="b2896-188">No email, observe que o despejo é para o WSL ou Bash na equipe do Windows.</span><span class="sxs-lookup"><span data-stu-id="b2896-188">In the email, note that the dump is for the WSL or Bash on Windows team.</span></span>
7. <span data-ttu-id="b2896-189">Restaure o tipo de despejo de memória para a configuração original.</span><span class="sxs-lookup"><span data-stu-id="b2896-189">Restore the memory dump type to the original setting.</span></span>

### <a name="check-your-build-number"></a><span data-ttu-id="b2896-190">Verifique o seu número de build</span><span class="sxs-lookup"><span data-stu-id="b2896-190">Check your build number</span></span>

<span data-ttu-id="b2896-191">Para localizar o que número de build de arquitetura de seu PC e Windows, abra</span><span class="sxs-lookup"><span data-stu-id="b2896-191">To find your PC's architecture and Windows build number, open</span></span>  
<span data-ttu-id="b2896-192">**As configurações** > **sistema** > **sobre**</span><span class="sxs-lookup"><span data-stu-id="b2896-192">**Settings** > **System** > **About**</span></span>

<span data-ttu-id="b2896-193">Procure os **Build do sistema operacional** e **tipo de sistema** campos.</span><span class="sxs-lookup"><span data-stu-id="b2896-193">Look for the **OS Build** and **System Type** fields.</span></span>  
    <span data-ttu-id="b2896-194">![Captura de tela de compilação e o tipo de sistema de campos](media/system.png)</span><span class="sxs-lookup"><span data-stu-id="b2896-194">![Screenshot of Build and System Type fields](media/system.png)</span></span> 


<span data-ttu-id="b2896-195">Para localizar o número de build do Windows Server, execute o seguinte no PowerShell:</span><span class="sxs-lookup"><span data-stu-id="b2896-195">To find your Windows Server build number, run the following in PowerShell:</span></span>  
``` PowerShell
systeminfo | Select-String "^OS Name","^OS Version"
```

### <a name="confirm-wsl-is-enabled"></a><span data-ttu-id="b2896-196">Confirmar que WSL está habilitado</span><span class="sxs-lookup"><span data-stu-id="b2896-196">Confirm WSL is enabled</span></span>
<span data-ttu-id="b2896-197">Você pode confirmar que o subsistema Windows para Linux está habilitado executando o seguinte no PowerShell:</span><span class="sxs-lookup"><span data-stu-id="b2896-197">You can confirm that the Windows Subsystem for Linux is enabled by running the following in PowerShell:</span></span>  
``` PowerShell
PowerShell
Get-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux
```

### <a name="openssh-server-connection-issues"></a><span data-ttu-id="b2896-198">Problemas de conexão do OpenSSH-Server</span><span class="sxs-lookup"><span data-stu-id="b2896-198">OpenSSH-Server connection issues</span></span>
<span data-ttu-id="b2896-199">Tentando conectar-se o servidor SSH falhou com o seguinte erro: "Conexão fechada pelo 127.0.0.1 porta 22".</span><span class="sxs-lookup"><span data-stu-id="b2896-199">Trying to connect your SSH server is failed with the following error: "Connection closed by 127.0.0.1 port 22".</span></span>
1. <span data-ttu-id="b2896-200">Verifique se que seu OpenSSH Server está em execução:</span><span class="sxs-lookup"><span data-stu-id="b2896-200">Make sure your OpenSSH Server is running:</span></span>
   ``` BASH
   sudo service ssh status
   ```
   <span data-ttu-id="b2896-201">e você já seguiu o tutorial: https://help.ubuntu.com/lts/serverguide/openssh-server.html.en</span><span class="sxs-lookup"><span data-stu-id="b2896-201">and you've followed this tutorial: https://help.ubuntu.com/lts/serverguide/openssh-server.html.en</span></span>
2. <span data-ttu-id="b2896-202">O serviço sshd de parar e iniciar o sshd em modo de depuração:</span><span class="sxs-lookup"><span data-stu-id="b2896-202">Stop the sshd service and start sshd in debug mode:</span></span>
   ``` BASH
   sudo service ssh stop
   sudo /usr/sbin/sshd -d
   ```
3. <span data-ttu-id="b2896-203">Verifique os logs de inicialização e certifique-se de HostKeys estão disponíveis e você não vir as mensagens de log, como: debug1: versão sshd OpenSSH_7.2, OpenSSL 1.0.2g 1 de março de 2016 debug1: key_load_private: senha incorreta fornecida para descriptografar debug1 chave privada: key_load_public : Não há tal arquivo ou diretório não foi possível carregar a chave de host: /etc/ssh/ssh_host_rsa_key debug1: key_load_private: Não há debug1 tal arquivo ou diretório: key_load_public: Não há tal arquivo ou diretório não foi possível carregar a chave de host: /etc/ssh/ssh_host_dsa_key debug1: key_load_private: Não há debug1 tal arquivo ou diretório: key_load_public: Não há tal arquivo ou diretório não foi possível carregar a chave de host: /etc/ssh/ssh_host_ecdsa_key debug1: key_load_private: Não há debug1 tal arquivo ou diretório: key_load_public: Não há tal arquivo ou diretório não foi possível carregar a chave de host: /etc/ssh/ssh_host_ed25519_key</span><span class="sxs-lookup"><span data-stu-id="b2896-203">Check the startup logs and make sure HostKeys are available and you don't see log messages such as: debug1: sshd version OpenSSH_7.2, OpenSSL 1.0.2g  1 Mar 2016 debug1: key_load_private: incorrect passphrase supplied to decrypt private key debug1: key_load_public: No such file or directory Could not load host key: /etc/ssh/ssh_host_rsa_key debug1: key_load_private: No such file or directory debug1: key_load_public: No such file or directory Could not load host key: /etc/ssh/ssh_host_dsa_key debug1: key_load_private: No such file or directory debug1: key_load_public: No such file or directory Could not load host key: /etc/ssh/ssh_host_ecdsa_key debug1: key_load_private: No such file or directory debug1: key_load_public: No such file or directory Could not load host key: /etc/ssh/ssh_host_ed25519_key</span></span>

<span data-ttu-id="b2896-204">Se você vir esse tipo de mensagem e as chaves estão ausentes em `/etc/ssh/`, você precisará regenerar as chaves ou apenas Limpar & instalar openssh-server:</span><span class="sxs-lookup"><span data-stu-id="b2896-204">If you do see such messages and the keys are missing under `/etc/ssh/`, you will have to regenerate the keys or just purge&install openssh-server:</span></span>
```BASH
sudo apt-get purge openssh-server
sudo apt-get install openssh-server
```

